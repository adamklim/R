coord_trans(y='sqrt') +
geom_line(stat = 'summary', fun.y = mean)+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1), linetype=2, color='blue')
coord_cartesian(xlim =c(13,90)) +
ggplot(aes(age,friend_count), data = pf) +
geom_point(alpha=.1, size=.1, position = position_jitter(h=0), color = 'orange') +
coord_cartesian(xlim =c(13,90)) +
coord_trans(y='sqrt') +
geom_line(stat = 'summary', fun.y = mean)+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1)
, linetype=2, color='blue')
ggplot(aes(age,friend_count), data = pf) +
geom_point(alpha=.1, size=.1, position = position_jitter(h=0), color = 'orange') +
xlim(13,90) +
coord_trans(y='sqrt') +
geom_line(stat = 'summary', fun.y = mean)+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1)
, linetype=2, color='blue')
ggplot(aes(age,friend_count), data = pf) +
geom_point(alpha=.1, size=.1, position = position_jitter(h=0), color = 'orange') +
coord_trans(y='sqrt') +
geom_line(stat = 'summary', fun.y = mean)+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1)
, linetype=2, color='blue')
ggplot(aes(age,friend_count), data = pf) +
geom_point(alpha=.1, size=.1, position = position_jitter(h=0), color = 'orange') +
coord_trans(y='sqrt') +
geom_line(stat = 'summary', fun.y = mean)+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1), linetype=2, color='blue')
+ coord_cartesian(xlim = c(13,90))
+ geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1), linetype=2, color='blue')
+ geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1), linetype=2, color='blue')
ggplot(aes(age,friend_count), data = pf)+
geom_point(alpha=.1, size=.1, position = position_jitter(h=0), color = 'orange')+
coord_trans(y='sqrt')+
geom_line(stat = 'summary', fun.y = mean)+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1), linetype=2, color='blue')+
coord_cartesian(xlim = c(13,90))
ggplot(aes(age,friend_count), data = pf)+
geom_point(alpha=.1, size=.1, position = position_jitter(h=0), color = 'orange')+
coord_trans(y='sqrt')+
geom_line(stat = 'summary', fun.y = mean)+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1), linetype=2, color='blue')+
coord_cartesian(xlim = c(13,90),y='sqrt')
ggplot(aes(age,friend_count), data = pf)+
geom_point(alpha=.1, size=.1, position = position_jitter(h=0), color = 'orange')+
geom_line(stat = 'summary', fun.y = mean)+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1), linetype=2, color='blue')+
coord_cartesian(xlim = c(13,90))
ggplot(aes(age,friend_count), data = pf)+
geom_point(alpha=.1, size=.1, position = position_jitter(h=0), color = 'orange')+
geom_line(stat = 'summary', fun.y = mean)+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1), linetype=2, color='blue')+
coord_cartesian(xlim = c(13,90))+
scale_y_sqrt()
ggplot(aes(age,friend_count), data = pf)+
geom_point(alpha=.1, size=.1, position = position_jitter(h=0), color = 'orange')+
geom_line(stat = 'summary', fun.y = mean)+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1), linetype=2, color='blue')+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .95), linetype=2, color='green')+
coord_cartesian(xlim = c(13,90))+
scale_y_sqrt()
ggplot(aes(age,friend_count), data = pf)+
geom_point(alpha=.1, size=.1, position = position_jitter(h=0), color = 'orange')+
geom_line(stat = 'summary', fun.y = mean)+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1), linetype=2, color='blue')+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .95), linetype=2, color='blue')+
coord_cartesian(xlim = c(13,90))+
scale_y_sqrt()
ggplot(aes(age,friend_count), data = pf)+
geom_point(alpha=.1, size=.1, position = position_jitter(h=0), color = 'orange')+
geom_line(stat = 'summary', fun.y = mean)+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1), linetype=2, color='blue')+
geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .9), linetype=2, color='blue')+
coord_cartesian(xlim = c(13,90))+
scale_y_sqrt()
?cor.test
cor.test(pf$age, pf$friend_count)
?with
with(pf, cor.test(age,friend_co0unt))
with(pf, cor.test(age,friend_count))
?subset
with(subset(pf, age=c(13,70)) , cor.test(age, friend_count))
with(pf=subset(pf, age=c(13,70)) , cor.test(age, friend_count))
with(subset(pf, age<70)) , cor.test(age, friend_count))
with(subset(pf, age<70) , cor.test(age, friend_count))
with(subset(pf, age<=70) , cor.test(age, friend_count))
rm(r)
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.5) +
geom_line(color='grey')
library(ggplot2)
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.5) +
geom_line(color='grey')
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.5)
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.1)
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.1, size=.2)
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.5, size=.2)
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.5, size=.5)
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.1, size=2)
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.3)
with(pf, ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.3))
with(pf, ggplot(aes(likes_received,www_likes_received))+
geom_point(alpha=.3))
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.3) +
with(pf, xlim(0,quantile(likes_received,.95))) +
with(pf, ylim(0,quantile(www_likes_received,.95)))
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.3) +
xlim(0,quantile(likes_received,.95)) +
ylim(0,quantile(www_likes_received,.95))
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.3) +
xlim(0,quantile(pf$likes_received,.95)) +
ylim(0,quantile(pf$www_likes_received,.95))
library(dplyr)
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.3) +
xlim(0,quantile(pf$likes_received,.95)) +
ylim(0,quantile(pf$www_likes_received,.95))
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.3) +
with(pf, xlim(0,quantile(likes_received,.95))) +
with(pf, ylim(0,quantile(www_likes_received,.95)))
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.2, size=.2) +
with(pf, xlim(0,quantile(likes_received,.95))) +
with(pf, ylim(0,quantile(www_likes_received,.95)))
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.2, size=.5) +
with(pf, xlim(0,quantile(likes_received,.95))) +
with(pf, ylim(0,quantile(www_likes_received,.95)))
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.2) +
with(pf, xlim(0,quantile(likes_received,.95))) +
with(pf, ylim(0,quantile(www_likes_received,.95))) +
geom_smooth(method = 'lm', color = 'blue')
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.2) +
with(pf, xlim(0,quantile(likes_received,.95))) +
with(pf, ylim(0,quantile(www_likes_received,.95))) +
geom_smooth(method = 'lm', color = 'orange')
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.2) +
with(pf, xlim(0,quantile(likes_received,.95))) +
with(pf, ylim(0,quantile(www_likes_received,.95))) +
geom_smooth(method = 'lm', color = 'orange', size=.5)
ggplot(pf,aes(likes_received,www_likes_received))+
geom_point(alpha=.2) +
with(pf, xlim(0,quantile(likes_received,.95))) +
with(pf, ylim(0,quantile(www_likes_received,.95))) +
geom_smooth(method = 'lm', color = 'red', size=.5)
with(pf, cor.test(likes_received, www_likes_received))
install.packages('alr3')
library(alr3)
data("Mitchell")
?Mitchell
head(Mitchell)
str(Mitchell)
ggplot(Mitchell,aes(Month,Temp))+
geom_point()
with(mitchell, cor.test(month, temp))
with(Mitchell, cor.test(Month, Temp))
ggplot(Mitchell,aes(Month,Temp))+
geom_point()+
scale_x_continuous(breaks = 0,203,12)
ggplot(Mitchell,aes(Month,Temp))+
geom_point()+
scale_x_discrete(breaks = 0,203,12)
ggplot(Mitchell,aes(Month,Temp))+
geom_point()+
scale_x_continuous(breaks = 0,203,12)
ggplot(Mitchell,aes(Month,Temp))+
geom_point()+
scale_x_continuous(breaks = 0,12,203)
ggplot(Mitchell,aes(Month,Temp))+
geom_point()+
scale_x_continuous(breaks = seq(0,203,12))
ggplot(Mitchell,aes(Month,Temp))+
geom_point()+
scale_x_continuous(breaks = seq(0,203,12))+
geom_line()
ggplot(Mitchell,aes(Month,Temp))+
geom_point()+
scale_x_continuous(breaks = seq(0,203,12))+
geom_line(color='grey')
ggplot(data=pf.fc_by_age,aes(age,friendCountMean))+
geom_point(alpha=.5) +
geom_line(color='grey')
with(pf $age_with_months <- age + (1-dob_month/12))
with(pf, age_with_months <- age + (1-dob_month/12))
with(pf, age_with_months <- age + (1-dob_month/12))
pf$age_with_months <- pf$age + (1-pf$dob_month/12))
pf$age_with_months <- pf$age + (1-pf$dob_month/12)
pf$age_with_months <- with(pf, age + (1 - dob_month / 12))
pf$age_with_months <- with(pf, age + (1 - dob_month / 12))
pf.fc_by_age_months <- pf %>%
group_by(age_with_months) %>%
summarise(friendCountMean = mean(friend_count),
friendCountMedian = median(friend_count),
n=n()) %>%
arrange(age)
pf.fc_by_age_months <- pf %>%
group_by(age_with_months) %>%
summarise(friendCountMean = mean(friend_count),
friendCountMedian = median(friend_count),
n=n()) %>%
arrange(age_with_months)
head(pf.fc_by_age)
ggplot(data=pf.fc_by_age_months,aes(age_with_months,friendCountMean))+
geom_point(alpha=.5) +
geom_line(color='grey')
ggplot(data=pf.fc_by_age_months,aes(age_with_months,friendCountMean))+
geom_line(color='grey')
head(pf.fc_by_age)
ggplot(data=pf.fc_by_age_months,aes(age_with_months,friendCountMean))+
geom_line(color='grey')+
coord_cartesian(xlim <71))
ggplot(data=pf.fc_by_age_months,aes(age_with_months,friendCountMean))+
geom_line(color='grey')+
coord_cartesian(xlim <71)
ggplot(data=pf.fc_by_age_months,aes(age_with_months,friendCountMean))+
geom_line(color='grey')+
coord_cartesian(xlim = c(13,71))
ggplot(data=subset(pf.fc_by_age_months, age_with_months<71),aes(age_with_months,friendCountMean))+
geom_line(color='grey')
ggplot(data=subset(pf.fc_by_age_months, age_with_months<71),aes(age_with_months,friendCountMean))+
geom_line(color='grey')
ggplot(data=subset(pf.fc_by_age_months, age_with_months<71),aes(age_with_months,friendCountMean))+
geom_smooth(color='grey')
ggplot(data=subset(pf.fc_by_age_months, age_with_months<71),aes(age_with_months,friendCountMean))+
geom_line(color='grey')+
geom_smooth()
data("diamonds")
ggplot(aes(x,price), data= diamonds) +
geom_point()
ggplot(aes(x,price), data= diamonds) +
geom_point(alpha=.2, size=.5)
ggplot(aes(x,price), data= diamonds) +
geom_point(alpha=.2, size=.2)
with(diamonds, cor.test(price,x))
with(diamonds, cor.test(price,y))
with(diamonds, cor.test(price,z))
str(diamonds)
ggplot(aes(price,depth), data= diamonds) +
geom_point(alpha=.2, size=.2)
ggplot(aes(price,depth), data= diamonds) +
geom_point(alpha=.01, size=.2)
with(diamonds, cor.test(price,depth))
ggplot(aes(price, carat), data = diamonds) +
geom_point(alpha=.01, size=.2) +
xlim(0, quantile(diamonds$price, .99)) +
ylim(0, quantile(diamonds$carat, .99))
ggplot(aes(price, carat), data = diamonds) +
geom_point(alpha=.1, size=.2) +
xlim(0, quantile(diamonds$price, .99)) +
ylim(0, quantile(diamonds$carat, .99))
ggplot(aes(x*y*z, price), data=diamonds) +
geom_point(alpha=.1, size=.2)
ggplot(aes(x*y*z, price), data=diamonds) +
geom_point(alpha=.1, size=.2)+
xlim(0, 1000)
ggplot(aes(x*y*z, price), data=diamonds) +
geom_point()+
ggplot(aes(x*y*z, price), data=diamonds) +
geom_point()
ggplot(aes(x*y*z, price), data=diamonds) +
geom_point()
with(diamonds, cor.test(price,x*y*z))
with(subset(diamonds,volume>0, volume<=800), cor.test(price,x*y*z))
str(diamonds)
with(subset(diamonds,x*y*z>0, x*y*z<=800), cor.test(price,x*y*z))
with(subset(diamonds,x*y*z>0 & x*y*z<=800), cor.test(price,x*y*z))
ggplot(aes(x*y*z, price), data=subset(diamonds, volume > 0 & volume <= 800)) +
geom_point(alpha=.1) +
geom_smooth()
ggplot(aes(x*y*z, price), data=subset(diamonds, x*y*z > 0 & x*y*z <= 800)) +
geom_point(alpha=.1) +
geom_smooth()
ggplot(aes(x*y*z, price), data=subset(diamonds, x*y*z > 0 & x*y*z <= 800)) +
geom_point(size=.1) +
geom_smooth()
ggplot(aes(x*y*z, price), data=subset(diamonds, x*y*z > 0 & x*y*z <= 800)) +
geom_point(size=.3) +
geom_smooth()
ggplot(aes(x*y*z, price), data=subset(diamonds, x*y*z > 0 & x*y*z <= 800)) +
geom_point(size=.3, alpha=.3) +
geom_smooth()
diamondsByClarity <- diamonds %>%
group_by(clarity) %>%
summarise(mean_price = mean(price),
median_price = median(price),
min_price = min(price),
max_price = max(price),
n = n())
p1 <- ggplot(aes(clarity, mean_price), data = diamonds_mp_by_clarity) +
geom_point()
p2 <- ggplot(aes(color, mean_price), data = diamonds_mp_by_color) +
geom_point()
library(gridExtra)
grid.arrange(p1,p2, ncol=1)
p1 <- ggplot(aes(clarity, mean_price), data = diamonds_mp_by_clarity) +
geom_point()
diamonds_by_clarity <- group_by(diamonds, clarity)
diamonds_mp_by_clarity <- summarise(diamonds_by_clarity, mean_price = mean(price))
diamonds_by_color <- group_by(diamonds, color)
diamonds_mp_by_color <- summarise(diamonds_by_color, mean_price = mean(price))
p1 <- ggplot(aes(clarity, mean_price), data = diamonds_mp_by_clarity) +
geom_point()
p2 <- ggplot(aes(color, mean_price), data = diamonds_mp_by_color) +
geom_point()
library(gridExtra)
grid.arrange(p1,p2, ncol=1)
ggplot(aes(x = gender, y = age),
data = subset(pf, !is.na(gender))) + geom_histogram()
ggplot(aes(x = gender, y = age),
data = subset(pf, !is.na(gender))) +
geom_histogram()
pf.fc_by_age_gender <- pf %>%
filter(!is.na(gender)) %>%
group_by(age, gender) %>%
summarise(mean_friend_count = mean(friend_count),
median_friend_count = median(friend_count),
n = n()) %>%
ungroup() %>% # one grouping will be removed by summarise, need to remove second
arrange(age)
head(pf.fc_by_age_gender)
ggplot(data=subset(pf, !is.na(gender),aes(gender,age)))+
geom_line(color=gender, stat = 'summary', fun.y = median)
ggplot(data=subset(pf, !is.na(gender),aes(gender,age)))+
geom_line(color=aes(gender), stat = 'summary', fun.y = median)
ggplot(data=subset(pf, !is.na(gender),aes(age,friend_count)))+
geom_line(color=aes(gender), stat = 'summary', fun.y = median)
ggplot(aes(age,friend_count),
data=subset(pf, !is.na(gender)))+
geom_line(color=aes(gender), stat = 'summary', fun.y = median)
ggplot(data=subset(pf, !is.na(gender),aes(age,friend_count)))+
geom_line(aes(color=gender), stat = 'summary', fun.y = median)
ggplot(data=subset(pf, !is.na(gender),aes(x=age,y=friend_count)))+
geom_line(aes(color=gender), stat = 'summary', fun.y = median)
ggplot(data=pf.fc_by_age,aes(age,friendCountMean))+
geom_point(alpha=.5) +
geom_line(color='grey')
ggplot(data=pf,aes(age,friendCountMean))+
geom_point(alpha=.5) +
geom_line(color='grey')
ggplot(data=pf,aes(age,friend_count))+
geom_point(alpha=.5) +
geom_line(color='grey')
ggplot(data=subset(pf, !is.na(gender)),aes(age,friend_count))+
geom_line(color='grey')
ggplot(data=subset(pf, !is.na(gender)),aes(age,friend_count))+
geom_line(color='grey', stat = 'summary')
ggplot(data=subset(pf, !is.na(gender)),aes(age,friend_count))+
geom_line(color='grey', stat = 'summary', fun.y=median)
ggplot(data=subset(pf, !is.na(gender)),aes(age,friend_count))+
geom_line(aes(color='grey'), stat = 'summary', fun.y=median)
ggplot(data=subset(pf, !is.na(gender)),aes(age,friend_count))+
geom_line(aes(color=gender), stat = 'summary', fun.y=median)
ggplot(data=subset(pf, !is.na(gender)), aes(x=age,y=friend_count)))+
ggplot(data=subset(pf, !is.na(gender)), aes(x=age,y=friend_count))+
geom_line(aes(color=gender), stat = 'summary', fun.y = median)
ggplot(data=subset(pf, !is.na(gender)),aes(age,friend_count))+
geom_boxplot()+
stat_summary(fun.y = mean, geom='point',shape=4)
ggplot(data=subset(pf, !is.na(gender)),aes(gender,age))+
geom_boxplot()+
stat_summary(fun.y = mean, geom='point',shape=4)
ggplot(data=subset(pf, !is.na(gender)),aes(age,friend_count))+
geom_line(aes(color=gender), stat = 'summary', fun.y=median)
ggplot(data=subset(pf, !is.na(gender)),aes(age,friend_count))+
geom_line(aes(color=gender), stat = 'summary', fun.y=median)
ggplot(data=pf.fc_by_age_gender, aes(age,mean_friend_count))
ggplot(data=pf.fc_by_age_gender, aes(age,mean_friend_count))+
geom_line()
ggplot(data=pf.fc_by_age_gender, aes(age,mean_friend_count))+
geom_line(aes(color=gender))
ggplot(data=pf.fc_by_age_gender, aes(age,median_friend_count))+
geom_line(aes(color=gender))
install.packages('reshape2')
install.packages('reshape2')
library(reshape2)
library(tidyr)
spread(subset(pf.fc_by_age_gender,
select = c('gender','age','median_friend_count')),
gender,median_friend_count)
pf.fc_by_age_gender_wide <-dcast(pf.fc_by_age_gender,
age ~ gender,
value.var = 'median_friend_count')
head(pf.fc_by_age_gender_wide)
?melt()
?melt(pf.fc_by_age_gender_wide)
melt(pf.fc_by_age_gender_wide)
ggplot(data=pf.fc_by_age_gender_wide,aes(age, female/male))+
geom_line()
ggplot(data=pf.fc_by_age_gender_wide,aes(age, female/male))+
geom_line()+
geom_hline(yintercept = 1, alpha=.3, linetype=2)
ggplot(data=pf.fc_by_age_gender_wide,aes(age, female/male))+
geom_line()+
geom_hline(yintercept = 1.5, alpha=.3, linetype=2) #horizontal line
ggplot(data=pf.fc_by_age_gender_wide,aes(age, female/male))+
geom_line()+
geom_hline(yintercept = 1, linetype=2) #horizontal line
ggplot(data=pf.fc_by_age_gender_wide,aes(age, female/male))+
geom_line()+
geom_hline(yintercept = 1, linetype=2, alpha=.7) #horizontal line
str(pf)
year_joined <- floor(2014 - pf$tenure/365)
rm(year_joined)
pf$year_joined <- floor(2014 - pf$tenure/365)
summary(pf$year_joined)
table(pf$year_joined)
?cut
pf$year_joined_bucket <-cut(pf$year_joined,
breaks = c(2004, 2009, 2011, 2012,2014)
)
ggplot(data=pf, aes(age,friend_count))+
geom_line(aes(color=year_joined_bucket))
ggplot(data=pf, aes(age,friend_count))+
geom_line(aes(color=year_joined_bucket), stat = 'summary', fun.y=median)
ggplot(data=subset(pf, !is.na(pf$year_joined_bucket)),
aes(age,friend_count))+
geom_line(aes(color=year_joined_bucket), stat = 'summary', fun.y=median)
ggplot(data=subset(pf, !is.na(pf$year_joined_bucket)),
aes(age,friend_count))+
geom_line(aes(color=year_joined_bucket),
stat = 'summary',
fun.y=mean)+ #means for separate buckets
geom_line(stat = summary, fun.y = 'mean', linetype=2) #grand mean (all data)
ggplot(data=subset(pf, !is.na(pf$year_joined_bucket)),
aes(age,friend_count))+
geom_line(aes(color=year_joined_bucket),
stat = 'summary',
fun.y=mean)+ #means for separate buckets
geom_line(stat = 'summary', fun.y = 'mean', linetype=2) #grand mean (all data)
rm(Mitchell)
ggplot(data=pf.fc_by_age_gender, aes(age,median_friend_count))+
geom_line(aes(color=gender))
with(subset(pf, tenure>0), ggplot(data=pf,aes(friend_count, female/male))+
geom_line())
with(subset(pf, tenure>0), summaty(friend_count/tenure))+
geom_line())
with(subset(pf, tenure>0), summaty(friend_count/tenure))
with(subset(pf, tenure>0), summary(friend_count/tenure))
ggplot(data=subset(pf, pf$tenure>0),
aes(age,tenure))+
geom_line(aes(color=year_joined_bucket),
stat = 'summary',
fun.y=mean)+ #means for separate buckets
geom_line(stat = 'summary', fun.y = 'mean', linetype=2) #grand mean (all data)
ggplot(data=subset(pf, pf$tenure>0),
aes(age,friendships_initiated/tenure))+
geom_line(aes(color=year_joined_bucket),
stat = 'summary',
fun.y=mean)+ #means for separate buckets
geom_line(stat = 'summary', fun.y = 'mean', linetype=2) #grand mean (all data)
ggplot(data=subset(pf, pf$tenure>0),
aes(tenure,friendships_initiated/tenure))+
geom_line(aes(color=year_joined_bucket),
stat = 'summary',
fun.y=mean)+ #means for separate buckets
geom_line(stat = 'summary', fun.y = 'mean', linetype=2) #grand mean (all data)
ggplot(data=subset(pf, tenure>0),
aes(tenure,friendships_initiated/tenure))+
geom_line(aes(color=year_joined_bucket),
stat = 'summary',
fun.y=mean)+ #means for separate buckets
#  geom_line(stat = 'summary', fun.y = 'mean', linetype=2) #grand mean (all data)
ggplot(data=subset(pf, tenure>0),
aes(tenure,friendships_initiated/tenure))+
geom_line(aes(color=year_joined_bucket),
stat = 'summary',
fun.y=mean) #means for separate buckets
ggplot(data=subset(pf, tenure>0),
aes(tenure,friendships_initiated/tenure))+
geom_line(aes(color=year_joined_bucket),
stat = 'summary',
fun.y=mean) #means for separate buckets
ggplot(aes(x = tenure, y = friendships_initiated / tenure),
data = subset(pf, tenure >= 1)) +
geom_line(aes(color = year_joined.bucket),
stat = 'summary',
fun.y = mean)
ggplot(aes(x = tenure, y = friendships_initiated / tenure),
data = subset(pf, tenure >= 1)) +
geom_line(aes(color = year_joined.bucket),
stat = 'summary',
fun.y = mean)
ggplot(aes(x = tenure, y = friendships_initiated / tenure),
data = subset(pf, tenure >= 1)) +
geom_line(aes(color = year_joined_bucket),
stat = 'summary',
fun.y = mean)
ggplot(data=subset(pf, tenure>0),
aes(tenure,friendships_initiated/tenure))+
geom_smooth(aes(color=year_joined_bucket),
stat = 'summary',
fun.y=mean)
ggplot(data=subset(pf, tenure>0),
aes(tenure,friendships_initiated/tenure))+
geom_smooth(aes(color=year_joined_bucket))
